(function() {

    var rowData = [
        {
            folder: true,
            open: false,
            name: 'Charlestown Capital PE Dashboard',
            type: 'Exchange',
            children: [
                {folder: true,
                    name: 'Annual Reports',
                    size: '',
                    type: 'Folder',
                    dateModified: '27/02/2014 04:12',
                    addedBy: 'Derek Miller',
                    children: [
                        {name: 'bfsve.docx', size: '56 kb', type: 'docx', dateModified: '13/03/2014 10:14', addedBy: 'Derek Miller'},
                        {name: 'csup.pdf', size: '1 kb', type: 'pdf', dateModified: '27/11/2012 04:12', addedBy: 'Derek Miller'},
                        {name: 'diagwrn.xlsx', size: '21 kb', type: 'xlsx', dateModified: '18/03/2014 00:56', addedBy: 'Pan Peng'}
                    ]
                },
                {folder: true,
                    name: 'Annual Meetings',
                    size: '',
                    type: 'Folder',
                    dateModified: '27/02/2014 04:12',
                    addedBy: 'Matt Cunha',
                    children: [
                        {name: 'bfsve.pdf', size: '56 kb', type: 'pdf', dateModified: '13/03/2014 10:14', addedBy: 'Damon Wang'},
                        {name: 'csup.xlsx', size: '1 kb', type: 'xlsx', dateModified: '27/11/2012 04:12', addedBy: 'Matt Cunha'},
                        {name: 'diagwrn.pdf', size: '21 kb', type: 'pdf', dateModified: '18/03/2014 00:56', addedBy: 'Matt Terrill'}
                    ]
                },
                {folder: true,
                    name: 'Fund Information',
                    group: 'false',
                    size: '',
                    type: 'Folder',
                    dateModified: '27/02/2014 04:12',
                    addedBy: 'Pan Peng',
                    children: [
                        {name: 'bfsve.xlsx', size: '56 kb', type: 'xlsx', dateModified: '13/03/2014 10:14', addedBy: 'Damon Wang'},
                        {name: 'csup.docx', size: '1 kb', type: 'docx', dateModified: '27/11/2012 04:12', addedBy: 'Matt Terrill'},
                        {name: 'diagwrn.docx', size: '21 kb', type: 'docx', dateModified: '18/03/2014 00:56', addedBy: 'Pan Peng'}
                    ]
                },
                {folder: true,
                    name: 'Wayne Enterprises',
                    size: '',
                    type: 'Folder',
                    dateModified: '27/02/2014 04:12',
                    addedBy: 'Damon Wang',
                    children: [
                        {folder: true,
                            name: 'Capital Account Statements',
                            size: '',
                            type: 'Folder',
                            dateModified: '27/02/2014 04:12',
                            addedBy: 'Derek Miller',
                            children: [
                                {name: '4.01.03.01.04 Lib May 18', size: '56 kb', type: 'pdf', dateModified: '13/03/2018 10:14', addedBy: 'Damon Wang'},
                                {name: 'model.xlsx', size: '100 kb', type: 'xlsx', dateModified: '27/11/2018 04:12', addedBy: 'Derek Miller'},
                                {name: 'thesis.docx', size: '21 kb', type: 'docx', dateModified: '18/03/2017 00:56', addedBy: 'Matt Cunha'}
                            ]
                        },
                        {folder: true,
                            name: 'Distribution Notices',
                            size: '',
                            type: 'Folder',
                            dateModified: '27/02/2014 04:12',
                            addedBy: 'Matt Cunha',
                            children: [
                                {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Damon Wang'},
                                {name: 'csup.pdf', size: '1 kb', type: 'pdf', dateModified: '27/11/2012 04:12', addedBy: 'Pan Peng'},
                                {name: 'diagwrn.xlsx', size: '21 kb', type: 'xlsx', dateModified: '18/03/2014 00:56', addedBy: 'Derek Miller'}
                            ]
                        },
                        {folder: true,
                            name: 'K1s',
                            size: '',
                            type: 'Folder',
                            dateModified: '27/02/2014 04:12',
                            addedBy: 'Matt Terrill',
                            children: [
                                {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Damon Wang'},
                                {name: 'csup.pdf', size: '1 kb', type: 'pdf', dateModified: '27/11/2012 04:12', addedBy: 'Matt Terrill'},
                                {name: 'diagwrn.xlsx', size: '21 kb', type: 'xlsx', dateModified: '18/03/2014 00:56', addedBy: 'Damon Wang'}
                            ]
                        },
                        {folder: true,
                            name: 'Cap Calls',
                            size: '',
                            type: 'Folder',
                            dateModified: '27/02/2014 04:12',
                            addedBy: 'Matt Cunha',
                            children: [
                                {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Pan Peng'},
                                {name: 'csup.docx', size: '1 kb', type: 'docx', dateModified: '27/11/2012 04:12', addedBy: 'Damon Wang'},
                                {name: 'diagwrn.pdf', size: '21 kb', type: 'pdf', dateModified: '18/03/2014 00:56', addedBy: 'Matt Cunha'}
                            ]
                        },
                    ]
                },
                {folder: true,
                    name: 'Dyson and Associates LLC',
                    size: '',
                    type: 'Folder',
                    dateModified: '27/02/2014 04:12',
                    addedBy: 'Derek Miller',
                    children: [
                        {name: 'bfsve.pdf', size: '56 kb', type: 'pdf', dateModified: '13/03/2014 10:14', addedBy: 'Pan Peng'},
                        {name: 'csup.xlsx', size: '1 kb', type: 'xlsx', dateModified: '27/11/2012 04:12', addedBy: 'Matt Terrill'},
                        {name: 'diagwrn.docx', size: '21 kb', type: 'docx', dateModified: '18/03/2014 00:56', addedBy: 'Derek Miller'}
                    ]
                },
                {folder: true,
                    name: 'Program Files',
                    size: '',
                    type: 'Folder',
                    dateModified: '11/09/2013 02:11',
                    addedBy: 'Matt Terrill',
                    open: true,
                    children: [
                        {folder: true,
                            name: 'ASUS',
                            size: '',
                            type: 'Folder',
                            dateModified: '13/03/2014 1014',
                            addedBy: 'Damon Wang',
                            children: [
                                {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Matt Terrill'},
                                {name: 'csup.txt', size: '1 kb', type: 'txt', dateModified: '27/11/2012 04:12', addedBy: 'Derek Miller'},
                                {name: 'diagwrn.xml', size: '21 kb', type: 'xml', dateModified: '18/03/2014 00:56', addedBy: 'Damon Wang'}
                            ]
                        },
                        {folder: true,
                            name: 'DisplayLink Core Software', size: '', type: 'Folder', dateModified: '13/03/2014 1014', addedBy: 'Amanda Smith',
                            children: [
                                {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Matt Terrill'},
                                {name: 'csup.txt', size: '1 kb', type: 'txt', dateModified: '27/11/2012 04:12', addedBy: 'Matt Cunha'},
                                {name: 'diagwrn.xml', size: '21 kb', type: 'xml', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'}
                            ]
                        },
                        {folder: true,
                            name: 'Intel', size: '', type: 'Folder', dateModified: '13/03/2014 1014', addedBy: 'Matt Terrill',
                            children: [
                                {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Amanda Smith'},
                                {name: 'csup.txt', size: '1 kb', type: 'txt', dateModified: '27/11/2012 04:12', addedBy: 'Damon Wang'},
                                {name: 'diagwrn.xml', size: '21 kb', type: 'xml', dateModified: '18/03/2014 00:56', addedBy: 'Derek Miller'}
                            ]
                        },
                        {folder: true,
                            name: 'Java', size: '', type: 'Folder', dateModified: '13/03/2014 1014', addedBy: 'Matt Terrill', 
                            open: true,
                            children: [
                                {folder: true,
                                    name: 'jdk1.8.0', size: '', type: 'Folder', dateModified: '13/03/2014 1014', addedBy: 'Amanda Smith',
                                    children: [
                                        {name: 'java.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Pan Peng'},
                                        {name: 'javac.exe', size: '1 kb', type: 'exe', dateModified: '27/11/2012 04:12', addedBy: 'Damon Wang'},
                                        {name: 'weblaunch.exe', size: '21 kb', type: 'exe', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'}
                                    ]
                                },
                                {folder: true,
                                    name: 'jre1.8.0_31', size: '', type: 'Folder', dateModified: '13/03/2014 1014', addedBy: 'Amanda Smith', 
                                    children: [
                                        {name: 'java.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Matt Cunha'},
                                        {name: 'javac.exe', size: '1 kb', type: 'exe', dateModified: '27/11/2012 04:12', addedBy: 'Amanda Smith'},
                                        {name: 'weblaunch.exe', size: '21 kb', type: 'exe', dateModified: '18/03/2014 00:56'}
                                    ]
                                },
                                {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Pan Peng'},
                                {name: 'csup.txt', size: '1 kb', type: 'txt', dateModified: '27/11/2012 04:12', addedBy: 'Damon Wang'},
                                {name: 'diagwrn.xml', size: '21 kb', type: 'xml', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'}
                            ]
                        }
                    ]},
                {group: false, name: 'test.pdf', size: '16 kb', type: 'pdf', dateModified: '27/11/2012 04:12', addedBy: 'Pan Peng'},
                {group: false, name: 'model.xlsx', size: '13 kb', type: 'xlsx', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'}
            ]
        },
        {
            folder: true,
            name: 'Koroby Fund I Marketing',
            type: 'Exchange',
            rowPinned: false,
            children: [
                {
                    fullWidth: true,
                    folder: true,
                    children: [
                        {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14'},
                        {name: 'csup.txt', size: '1 kb', type: 'txt', dateModified: '27/11/2012 04:12', addedBy: 'Damon Wang'},
                        {name: 'diagwrn.xml', size: '21 kb', type: 'xml', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'}
                    ]
                }
            ]
        },
        {
            folder: true,
            name: 'Koroby Fund II Fundraise',
            type: 'Exchange',
            children: [
                {name: 'Game of Thrones s05e01.avi', size: '1034 mb', type: 'avi', dateModified: '13/03/2014 10:14', addedBy: 'Amanda Smith'},
                {name: 'The Knick s01e01', size: '523 mb', type: 'avi', dateModified: '27/11/2012 04:12'},
                {name: 'musicbackup1.zip', size: '25 mb', type: 'zip', dateModified: '18/03/2014 00:56', addedBy: 'Damon Wang'},
                {name: 'musicbackup2.zip', size: '25 mb', type: 'zip', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith', addedBy: 'Amanda Smith'}
            ]
        },
        {
            folder: true,
            name: 'Koroby Fund VI Fundraise',
            type: 'Exchange',
            rowPinned: false,
            children: [
                {
                    fullWidth: true,
                    folder: true,
                    children: [
                        {name: 'bfsve.exe', size: '56 kb', type: 'exe', dateModified: '13/03/2014 10:14', addedBy: 'Amanda Smith'},
                        {name: 'csup.txt', size: '1 kb', type: 'txt', dateModified: '27/11/2012 04:12', addedBy: 'Damon Wang'},
                        {name: 'diagwrn.xml', size: '21 kb', type: 'xml', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'}
                    ]
                }
            ]
        },
        {
            folder: true,
            name: 'YT Fund Reporting Demo',
            type: 'Exchange',
            children: [
                {name: 'Game of Thrones s05e01.avi', size: '1034 mb', type: 'avi', dateModified: '13/03/2014 10:14', addedBy: 'Amanda Smith'},
                {name: 'The Knick s01e01', size: '523 mb', type: 'avi', dateModified: '27/11/2012 04:12', addedBy: 'Amanda Smith'},
                {name: 'musicbackup1.zip', size: '25 mb', type: 'zip', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'},
                {name: 'musicbackup2.zip', size: '25 mb', type: 'zip', dateModified: '18/03/2014 00:56', addedBy: 'Amanda Smith'}
            ]
        }
    ];

    var columnDefs = [
        {headerName: "Name", field: "name", width: 300,
            cellRenderer:'agGroupCellRenderer',
            cellRendererParams: {
                innerRenderer: innerCellRenderer,
                suppressCount: true
            }
        },
        {headerName: "Size", field: "size", width: 75},
        {headerName: "Type", field: "type", width: 150},
        {headerName: "Date Modified", field: "dateModified", width: 130},
        {headerName: "Added By", field: "addedBy", width: 140
        /*,
            cellRenderer:'agGroupCellRenderer',
            cellRendererParams: {
                innerRenderer: depositRenderer,
                suppressCount: true
            }*/
        }
    ];

    var gridOptions = {
        columnDefs: columnDefs,
        rowData: rowData,
        rowSelection: 'multiple',
        enableColResize: true,
        enableSorting: true,
        animateRows: true,
        rowHeight: 50,
        headerHeight: 50,
        isFullWidthCell: function(rowNode) {
            // in this example, we check the fullWidth attribute that we set
            // while creating the data. what check you do to decide if you
            // want a row full width is up to you, as long as you return a boolean
            // for this method.
            return rowNode.data.fullWidth;
        },
        getNodeChildDetails: function(file) {
            if (file.folder) {
                return {
                    group: true,
                    children: file.children,
                    expanded: file.open
                };
            } else {
                return null;
            }
        },
        fullWidthCellRenderer: function(params) {
            // pinned rows will have node.floating set to either 'top' or 'bottom' - see docs for floating


            return '<iframe src="index3.html" frameborder="0" height="100%" scrolling="no" style="width:100%;"/>';
        },
        getRowHeight: function(params) {
            // you can have normal rows and full width rows any height that you want
            var isBodyRow = params.node.rowPinned === undefined;
            var isFullWidth = params.node.data.fullWidth;
            if (isBodyRow && isFullWidth) {
                return 300;
            } else {
                return 50;
            }
        }
    };



// add the handler function
    // create handler function
function myRowClickedHandler(event) {
    console.log('the row was clicked');
}

    function sizeCellStyle() {
        return {'text-decordation': 'underline'};
    }

    function innerCellRenderer(params) {
        var image;
        if (params.node.group) {
            image = params.node.level === 0 ? 'disk' : 'folder';
        } else {
            image = 'file';

            switch (params.data.type) {
                case 'pdf':
                    image = 'pdf';
                    break;
                case 'xlsx':
                    image = 'xlsx';
                    break;
                case 'docx':
                    image = 'docx';
                    break;
                case 'exe':
                    image = 'exe';
                    break;
                case 'txt':
                    image = 'txt';
                    break;
                case 'avi':
                    image = 'avi';
                    break;
                case 'zip':
                    image = 'zip';
                    break;
                case 'xml':
                    image = 'xml';
                    break;
            }
        }
        var imageFullUrl = image + '.png';
        return '<img src="' + imageFullUrl + '" style="padding-left: 10px;padding-right:12px;" /> ' + params.data.name;
        return '<svg _ngcontent-c3="" class="icon" src="http://10.2.154.31/tamaleweb/assets/tamale.svg#icons-blk-research"</svg>'
    }

    function depositRenderer(params) {

        return '<img src="deposit.png"><img src="download.png" style="padding-left: 20px;padding-right:12px;"> ';

    }
    /*
    function authenticationRenderer(params) {
        console.log("Test");
        return '<div style="width:100%"><img src="download.png" style="padding-left: 20px;padding-right:12px;"></div> ';

    }
    */
    // setup the grid after the page has finished loading
    document.addEventListener('DOMContentLoaded', function() {
        var gridDiv = document.querySelector('#exampleFileBrowser');
        new agGrid.Grid(gridDiv, gridOptions);
    });
    gridOptions.api.addEventListener('rowClicked', myRowClickedHandler);

})();